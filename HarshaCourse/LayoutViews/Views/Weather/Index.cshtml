@model IList<CityWeather>

@{
    string DetectColor(CityWeather city)
    {
        if(city.TemperatureFahrenheit < 44)
            return "blue-back";
        else if(city.TemperatureFahrenheit >= 44 && city.TemperatureFahrenheit <= 74)
            return "green-back";
        else
            return "orange-back";
    }
}

<div class="flex">
    @foreach(var city in Model)
    {
        <div class="box @DetectColor(city) w-25 text-center">
            <h2>@city.CityName</h2>
            @if(DateTime.TryParse(city.DateAndTime, out DateTime time))
            {
                <p class="text-grey">@time.ToString("hh:mm tt")</p>
            }
            else
            {
                <p class="text-grey">@DateTime.Now.ToString("hh:mm tt")</p>
            }
            <h2>@city.TemperatureFahrenheit Â°F</h2>
            <a href="/weather/@city.CityUniqueCode">Details</a>
        </div>
    }
</div>
